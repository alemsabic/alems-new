{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"AAEA,OAAO,EAAE,WAAW,EAAE,MAAM,uCAAuC,CAAC;AACpE,OAAO,EAAE,MAAM,EAAE,WAAW,EAAE,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAC9C,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,EAAE,KAAK,EAAE,MAAM,cAAc,CAAC;AACzE,OAAO,EAAE,eAAe,EAAE,SAAS,EAAE,SAAS,EAAE,cAAc,EAAE,SAAS,EAAE,MAAM,QAAQ,CAAC;AAC1F,OAAO,EAAqB,IAAI,EAAE,MAAM,QAAQ,CAAC;AACjD,OAAO,EAAE,UAAU,EAAE,MAAM,uBAAuB,CAAC;AACnD,OAAO,EAAE,eAAe,EAAE,MAAM,yBAAyB,CAAC;AAS1D,MAAM,UAAU,UAAU,CAAC,OAAiC;IAC1D,OAAO;QACL,MAAM,KAAK,GAAG,CAAA,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,IAAI,EAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QAC7D,OAAO;YACL,QAAQ,EAAE;gBACR,gBAAgB,EAAG;oBACjB,MAAM,EAAE,WAAW,EAAE,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK;iBACrF;gBACD,sBAAsB,EAAE;oBACtB,GAAG;iBACJ;aACF;YACD,MAAM,EAAE;gBACN,IAAI,EAAE,CAAC,WAAW,CAAC;aACpB;YACD,IAAI,EAAE;gBACJ,IAAI,EAAE;oBACJ,eAAe,EAAE;oBACjB,SAAS,EAAE;oBACX,SAAS,EAAE;oBACX,cAAc,EAAE;oBAChB,SAAS,EAAE;oBACX,UAAU,EAAE;oBACZ,eAAe,EAAE;oBACjB,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE;iBAChC;aACF;YACD,UAAU,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS;YAC5C,IAAI,EAAE;gBACJ,WAAW,EAAE;oBACX,MAAM,EAAE,CAAA,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,MAAM,KAAI,EAAE;iBAC9B;aACF;SACF,CAAA;IACH,CAAC,CAAA;AACH,CAAC","sourcesContent":["import { ConfigOverride } from '@codedoc/core';\n\nimport { countCards$ } from './components/article-card/count-cards';\nimport { Author, ArticleCard, Big, Small, Center, Quote, \n         Hero, Title, Space, Watermark, Tag, Moved } from './components';\nimport { addGitHubConfig, addSource, addStyles, addTwitterMeta, addOGMeta } from './post';\nimport { PartialFeedConfig, feed } from './feed';\nimport { addTagMeta } from './components/tag/post';\nimport { addRedirectMeta } from './components/moved/post';\n\n\nexport interface CodingBlogPluginOptions {\n  assets?: string[];\n  feed?: PartialFeedConfig,\n}\n\n\nexport function codingBlog(options?: CodingBlogPluginOptions) {\n  return function(): ConfigOverride {\n    const _feed = options?.feed ? feed(options.feed) : undefined;\n    return {\n      markdown: {\n        customComponents:  {\n          Author, ArticleCard, Big, Small, Center, Quote, Hero, Title, Space, Watermark, Moved\n        },\n        customInlineComponents: {\n          Tag\n        }\n      },\n      bundle: {\n        init: [countCards$]\n      },\n      page: {\n        post: [\n          addGitHubConfig(),\n          addSource(),\n          addStyles(),\n          addTwitterMeta(),\n          addOGMeta(),\n          addTagMeta(),\n          addRedirectMeta(),\n          ..._feed ? [_feed.collect] : []\n        ]\n      },\n      afterBuild: _feed ? [_feed.save] : undefined,\n      misc: {\n        coding_blog: {\n          assets: options?.assets || []\n        }\n      }\n    }\n  }\n}\n"]}