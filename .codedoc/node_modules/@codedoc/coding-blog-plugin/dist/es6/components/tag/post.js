import { StaticRenderer } from '@connectv/sdh';
export function addTagMeta() {
    const renderer = new StaticRenderer();
    return function (html) {
        var _a;
        const tags = [];
        html.querySelectorAll('[data-page-tag]').forEach(el$ => {
            const tag = el$.getAttribute('data-page-tag') || '';
            if (tag.length > 0)
                tags.push(tag);
        });
        let metaKeywords = html.querySelector('meta[name="keywords"]');
        if (!metaKeywords) {
            metaKeywords = renderer.create("meta", { name: 'keywords', content: "" });
            renderer.render(metaKeywords).on(html.head);
        }
        metaKeywords.setAttribute('content', [
            ...(((_a = metaKeywords.getAttribute('content')) === null || _a === void 0 ? void 0 : _a.split(',').map(_ => _.trim()).filter(_ => (_ === null || _ === void 0 ? void 0 : _.length) > 0)) || []),
            ...tags,
        ].join(', '));
        renderer.render(renderer.create("meta", { property: "blog-tags", content: tags.join(', ') })).on(html.head);
    };
}
//# sourceMappingURL=post.js.map