{"version":3,"file":"source.js","sourceRoot":"","sources":["../../../src/post/source.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,cAAc,EAAY,MAAM,eAAe,CAAC;AAKzD,MAAM,UAAU,SAAS;IACvB,MAAM,QAAQ,GAAG,IAAI,cAAc,EAAE,CAAC;IACtC,OAAO,UAAS,IAAkB,EAAE,IAAoB,EAAE,MAAqB;QAC7E,MAAM,MAAM,GAAG;YACb,IAAI,EAAE,MAAM,CAAC,GAAG,CAAC,IAAI;YACrB,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,SAAS;YAChC,KAAK,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK;SACzB,CAAC;QAEF,MAAM,MAAM,GAAG,gCAAS,mBAAmB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAU,CAAC;QAE9E,MAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,qBAAqB,CAAC,CAAC;QACjE,IAAI,SAAS,EAAE;YACb,IAAI,SAAS,CAAC,UAAU;gBAAE,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;;gBAC1E,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;SAC5C;aAAM;YACL,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACvC;IACH,CAAC,CAAA;AACH,CAAC","sourcesContent":["import { StaticRenderer, Compiled } from '@connectv/sdh';\nimport { CodedocConfig } from '@codedoc/core';\nimport { File } from 'rxline/fs';\n\n\nexport function addSource() {\n  const renderer = new StaticRenderer();\n  return function(html: HTMLDocument, file: File<Compiled>, config: CodedocConfig) {\n    const source = {\n      base: config.src.base,\n      path: file.path,\n      namespace: config.dest.namespace,\n      title: config.page.title,\n    };\n\n    const script = <script>{`window.source = ${JSON.stringify(source)}`}</script>;\n\n    const container = html.body.querySelector('#-codedoc-container');\n    if (container) {\n      if (container.firstChild) renderer.render(script).before(container.firstChild);\n      else renderer.render(script).on(container);\n    } else {\n      renderer.render(script).on(html.head);\n    }\n  }\n}\n"]}